import { z } from "zod";

export const EdiTranslateWriteEnvelopeSchema = z.object({
  interchangeHeader: z
    .object({
      senderQualifier: z.enum([
        "01",
        "02",
        "03",
        "04",
        "07",
        "08",
        "09",
        "10",
        "11",
        "12",
        "13",
        "14",
        "15",
        "16",
        "17",
        "18",
        "19",
        "20",
        "21",
        "22",
        "23",
        "24",
        "25",
        "26",
        "27",
        "28",
        "29",
        "30",
        "31",
        "32",
        "33",
        "34",
        "35",
        "36",
        "37",
        "38",
        "AM",
        "NR",
        "SA",
        "SN",
        "ZZ",
      ]),
      senderId: z.string().min(15).max(15),
      receiverQualifier: z.enum([
        "01",
        "02",
        "03",
        "04",
        "07",
        "08",
        "09",
        "10",
        "11",
        "12",
        "13",
        "14",
        "15",
        "16",
        "17",
        "18",
        "19",
        "20",
        "21",
        "22",
        "23",
        "24",
        "25",
        "26",
        "27",
        "28",
        "29",
        "30",
        "31",
        "32",
        "33",
        "34",
        "35",
        "36",
        "37",
        "38",
        "AM",
        "NR",
        "SA",
        "SN",
        "ZZ",
      ]),
      receiverId: z.string().min(15).max(15),
      date: z.string(),
      time: z.string().regex(new RegExp("^([01][0-9]|2[0-3]):([0-5][0-9])$")),
      controlVersionNumber: z.enum([
        "00200",
        "00201",
        "00204",
        "00300",
        "00301",
        "00302",
        "00303",
        "00304",
        "00305",
        "00306",
        "00307",
        "00400",
        "00401",
        "00402",
        "00403",
        "00404",
        "00405",
        "00406",
        "00500",
        "00501",
        "00502",
        "00503",
        "00504",
        "00505",
        "00600",
        "00601",
        "00602",
        "00603",
        "00604",
        "00605",
        "00700",
        "00701",
        "00702",
        "00703",
        "00704",
        "00705",
        "00706",
        "00801",
        "00800",
        "00802",
      ]),
      controlNumber: z.string().min(9).max(9),
      usageIndicatorCode: z.enum(["I", "P", "T"]).default("T"),
    })
    .strict(),
  groupHeader: z
    .object({
      functionalIdentifierCode: z.string().length(2),
      applicationSenderCode: z.string().min(2).max(15),
      applicationReceiverCode: z.string().min(2).max(15),
      date: z.string(),
      time: z.string(),
      controlNumber: z.string().min(1).max(9),
      release: z.string().min(1).max(12),
    })
    .strict(),
});

export type EdiTranslateWriteEnvelope = z.infer<
  typeof EdiTranslateWriteEnvelopeSchema
>;
